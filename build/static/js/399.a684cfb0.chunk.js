"use strict";(self.webpackChunkwebfile=self.webpackChunkwebfile||[]).push([[399],{1186:function(e,n,t){var r=t(1889),i=t(890),o=t(8596),a=t(3400),c=t(184),s=(0,o.Z)({root:{"& .MuiGrid-root":{display:"flex",justifyContent:"flex-start",alignItems:"center"},"& .MuiTypography-root":{display:"flex",alignItems:"center"}}});n.Z=function(e){var n=e.icon,t=e.name,o=e.onclick,l=s();return(0,c.jsx)(a.Z,{onClick:function(){return null===o||void 0===o?void 0:o.call(o)},className:l.root,sx:{width:"100%"},children:(0,c.jsxs)(r.ZP,{container:!0,children:[(0,c.jsx)(r.ZP,{item:!0,xs:3,children:n}),(0,c.jsx)(r.ZP,{item:!0,children:(0,c.jsx)(i.Z,{fontWeight:"bold",fontSize:17,noWrap:!0,children:t})})]})})}},7442:function(e,n,t){var r=t(3767),i=t(890),o=t(184);n.Z=function(e){var n=e.title,t=e.children;return(0,o.jsxs)(r.Z,{mt:1,children:[(0,o.jsx)(i.Z,{variant:"h4",color:"textPrimary",justifyContent:"left",children:n}),t]})}},9505:function(e,n,t){var r=t(8596),i=t(6330),o=t(493),a=t(4852),c=t(184),s=(0,r.Z)((function(e){return(0,i.Z)({root:{width:"100%",justifyContent:"start",userSelect:"none"}})}));n.Z=function(e){var n=e.items,t=e.onItemClicked,r=s();return(0,c.jsx)(o.Z,{component:"nav",className:r.root,"aria-label":"contacts",children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,c.jsx)(a.ZP,{alignItems:"center",onClick:function(){return t?t(n):null},children:e},n)}))})}},7399:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var r=t(4005),i=t(8830),o=t(1914),a=t(8143),c=t(627),s=t(3767),l=t(1889),u=t(890),d=t(3001),p=t(2791),f=t(6871),x=t(4165),m=t(5861),Z=t(4569),h=t.n(Z),j=function(){var e=(0,m.Z)((0,x.Z)().mark((function e(){var n;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().get("/api/policy",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,m.Z)((0,x.Z)().mark((function e(n){var t;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().delete("/api/policy?objectId=".concat(n),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=t(7471),k=t(5320),w=t(4030),y=t(6684),C=t(3967),S=t(653),b=t(3044),D=t(9900),R=t(184),z=function(e){var n=e.name,t=e.createdTime,r=e.description,i=e.onDetailClick,o=(0,C.Z)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(S.Z,{children:(0,R.jsx)(b.Z,{sx:{backgroundColor:o.colors.primary.light},children:(0,R.jsx)(y.Z,{fontSize:"large"})})}),(0,R.jsx)(D.Z,{onClick:i,primary:n,secondary:(0,R.jsxs)(s.Z,{children:[(0,R.jsx)(u.Z,{noWrap:!0,children:r}),(0,R.jsx)(u.Z,{noWrap:!0,children:t})]})})]})},B=t(885),T=t(8596),M=t(6330),N=t(6765),O=t(1606),I=t(4530),P=(0,T.Z)((function(e){return(0,M.Z)({root:{transform:"translateZ(0px)",flexGrow:1},exampleWrapper:{position:"absolute",left:"97vw",bottom:"10vh",marginTop:e.spacing(3),height:380},radioGroup:{margin:e.spacing(1,0)},toolTip:{width:100,height:100,color:"black"},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}})}));function W(e){var n=e.options,t=P(),r=p.useState(!1),i=(0,B.Z)(r,2),o=i[0],a=i[1];return(0,R.jsx)("div",{className:t.exampleWrapper,children:(0,R.jsx)(N.Z,{ariaLabel:"SpeedDial example",className:t.speedDial,icon:(0,R.jsx)(O.Z,{}),onClose:function(){a(!1)},onOpen:function(){a(!0)},open:o,direction:"up",children:n.map((function(e){return(0,R.jsx)(I.Z,{icon:e.icon,tooltipTitle:e.name,onClick:e.onClick,tooltipOpen:!0,TooltipClasses:{tooltip:t.toolTip}},e.name)}))})})}var A=t(9505),G=t(7209),L=t(3195),E=t(4554),F=t(9377),U=t(1186),q=t(7442),H=function(e){var n=e.policyName,t=e.onOperationClicked;return(0,R.jsx)(s.Z,{m:1,children:(0,R.jsxs)(E.Z,{borderRadius:3,children:[(0,R.jsx)(E.Z,{mt:2,mb:2,width:"100%",display:"flex",justifyContent:"center",children:(0,R.jsx)(z,{name:n,createdTime:null,description:null})}),(0,R.jsx)(q.Z,{title:"\u7b56\u7565\u64cd\u4f5c",children:(0,R.jsx)(A.Z,{items:[(0,R.jsx)(U.Z,{icon:(0,R.jsx)(F.Z,{fontSize:"large"}),name:"\u7f16\u8f91",onclick:function(){return t("edit")}}),(0,R.jsx)(U.Z,{icon:(0,R.jsx)(G.Z,{fontSize:"large"}),name:"\u5220\u9664",onclick:function(){return t("delete")}})]})}),(0,R.jsx)(q.Z,{title:"\u66f4\u591a\u64cd\u4f5c",children:(0,R.jsx)(A.Z,{items:[(0,R.jsx)(U.Z,{icon:(0,R.jsx)(L.Z,{fontSize:"large"}),name:"\u8be6\u7ec6\u4fe1\u606f",onclick:function(){return t("detail")}})]})})]})})},J=function(){var e=(0,f.s0)(),n=(0,r.oR)(a.d),t=(0,r.oR)(v.D);(0,r.oR)(w.N);(0,p.useEffect)((function(){j().then((function(e){e&&0===e.status&&(Array.isArray(e.data)?(console.log(e.data),n.setRows(e.data),n.setLoading(!1)):n.setRows([e.data]))}))}),[]);var i=function(e){n.setBottomDrawerOpen(!0),n.setBottomDrawerContent((0,R.jsx)(H,{policyName:n.rows[e].name,onOperationClicked:function(r){return function(e,r){switch(e){case"delete":g(n.rows[r].id).then((function(e){n.setBottomDrawerOpen(!1),e&&0===e.status?(n.setRows(n.rows.filter((function(e,n){return n!==r}))),t.setSnackBarOpen(!0),t.setSnackBarMessage("\u5220\u9664\u6210\u529f")):(t.setSnackBarOpen(!0),t.setSnackBarType("error"),t.setSnackBarMessage("\u5220\u9664\u5931\u8d25"))}));break;case"detail":console.log("detail files at index",r)}}(r,e)}}))};return(0,R.jsx)(c.Z,{in:!0,children:(0,R.jsxs)(s.Z,{alignContent:"space-around",className:(0,k.x)().root,children:[n.rows?(0,R.jsx)(A.Z,{items:n.rows.map((function(e,n){return(0,R.jsx)(z,{name:e.name,createdTime:null,description:e.description,onDetailClick:function(){return i(n)}})}))}):(0,R.jsx)(l.ZP,{children:(0,R.jsx)(u.Z,{children:"\u7a7a"})}),(0,R.jsx)(W,{options:[{name:"\u65b0\u5efa\u5171\u4eab",icon:(0,R.jsx)(d.Z,{}),onClick:function(){return e("/policymanage/create")}}]})]})})},K=function(){return(0,R.jsx)(r.zt,{of:o.v,memo:!0,children:(0,R.jsx)(r.zt,{of:i.c,memo:!0,children:(0,R.jsx)(r.zt,{of:a.d,memo:!0,children:(0,R.jsx)(J,{})})})})}},8143:function(e,n,t){t.d(n,{d:function(){return l}});var r=t(1413),i=t(885),o=t(2791),a=t(4005),c=t(1914),s=t(8953);function l(){var e=(0,a.oR)(c.v),n=(0,a.oR)(s.i),t=(0,o.useState)([]),l=(0,i.Z)(t,2),u=l[0],d=l[1];return(0,r.Z)((0,r.Z)((0,r.Z)({},e),n),{},{rows:u,setRows:d})}},5320:function(e,n,t){t.d(n,{x:function(){return r}});var r=(0,t(8596).Z)({root:{"& > *":{userSelect:"none"}}})}}]);
//# sourceMappingURL=399.a684cfb0.chunk.js.map