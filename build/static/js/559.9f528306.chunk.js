"use strict";(self.webpackChunkwebfile=self.webpackChunkwebfile||[]).push([[559],{5559:function(e,t,r){r.r(t),r.d(t,{default:function(){return B}});var n=r(4005),a=r(4942),o=r(3767),s=r(3060),u=r(4554),c=r(6151),i=r(7621),f=r(4454),l=r(5523),p=r(6934),m=r(8550),d=r(890),h=r(6871),x=r(1315),g=r(7471),w=r(885),Z=r(2791);function S(){var e=(0,Z.useState)(""),t=(0,w.Z)(e,2),r=t[0],n=t[1],a=(0,Z.useState)(""),o=(0,w.Z)(a,2),s=o[0],u=o[1],c=(0,Z.useState)(!1),i=(0,w.Z)(c,2);return{passWord:r,userName:s,showPassword:i[0],setPassWord:n,setUserName:u,setShowPassword:i[1]}}var v=r(5550),k=r(184),b=((0,p.ZP)(i.Z)((function(e){var t=e.theme;return(0,a.Z)({},t.breakpoints.up("sm"),{width:"28rem"})})),(0,p.ZP)("a")((function(e){return{fontSize:"0.875rem",textDecoration:"none",color:e.theme.palette.primary.main}})),(0,p.ZP)(l.Z)((function(e){return{"& .MuiFormControlLabel-label":{fontSize:"0.875rem",color:e.theme.palette.text.secondary}}}))),y=function(){var e=(0,n.oR)(S),t=(0,n.oR)(g.D),r=(0,h.s0)(),a=(0,h.s0)();return(0,k.jsxs)(o.Z,{className:"content-center",children:[(0,k.jsx)(u.Z,{sx:{mb:8,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,k.jsx)(d.Z,{variant:"h6",sx:{lineHeight:1,fontWeight:600,textTransform:"uppercase",fontSize:"1.5rem !important",userSelect:"none"},children:"\u533b\u7597\u6570\u636e\u5171\u4eab\u7cfb\u7edf"})}),(0,k.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return e.preventDefault()},children:[(0,k.jsx)(m.Z,{autoFocus:!0,onChange:function(t){e.setUserName(t.target.value)},fullWidth:!0,id:"email",label:"\u8d26\u53f7",sx:{marginBottom:4},children:e.userName}),(0,k.jsx)(v.Z,{password:e.passWord,title:"\u5bc6\u7801",showPassword:e.showPassword,onChange:function(t){return e.setPassWord(t)},onShowPasswordChange:function(){return e.setShowPassword((function(e){return!e}))}}),(0,k.jsxs)(u.Z,{sx:{mb:4,display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between"},children:[(0,k.jsx)(b,{control:(0,k.jsx)(f.Z,{}),label:"\u8bb0\u4f4f\u6211"}),(0,k.jsx)(s.Z,{onClick:function(){console.log("111"),a("/user/register")},sx:{userSelect:"none"},children:"\u6ce8\u518c"})]}),(0,k.jsx)(c.Z,{fullWidth:!0,size:"large",variant:"contained",sx:{marginBottom:7},onClick:function(){(0,x.x4)(e.userName,e.passWord).then((function(n){n&&200==n.code?(t.setSnackBarMessage("\u767b\u5f55\u6210\u529f"),t.setSnackBarOpen(!0),t.setSnackBarType("success"),localStorage.setItem("token",n.data.token),localStorage.setItem("userName",e.userName),r("/filemanage",{replace:!0})):(t.setSnackBarMessage("\u767b\u5f55\u5931\u8d25,".concat(n.message)),t.setSnackBarOpen(!0),t.setSnackBarType("error"))})).catch((function(e){t.setSnackBarMessage("\u767b\u5f55\u5931\u8d25,".concat(e)),t.setSnackBarOpen(!0),t.setSnackBarType("error")}))},children:"\u767b\u5f55"})]})]})},B=function(){return(0,k.jsx)(n.zt,{of:S,memo:!0,children:(0,k.jsx)(y,{})})}},1315:function(e,t,r){r.d(t,{Cl:function(){return u},RX:function(){return c},Sv:function(){return d},fD:function(){return f},lE:function(){return l},u5:function(){return p},v3:function(){return m},x4:function(){return i}});var n=r(4165),a=r(5861),o=r(4569),s=r.n(o);function u(e,t){var r=localStorage.getItem("username");return{id:e,name:t.fileName,size:t.fileSize,state:r==t.owner?"owned":"fromShared",owner:t.owner,use:t.use,useLimit:t.useLimit,expire:t.expire}}function c(e,t){var r=localStorage.getItem("username");return{id:e,name:t.fileName,size:t.fileSize,state:r==t.target?"owned":"fromShared",owner:t.target,use:t.use,useLimit:t.useLimit,expire:t.expire}}var i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().post("/login",{userName:t,passWord:r});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/file",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/user",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().post("/file/share",t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/file/share",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/file/download?filename=".concat(t),{responseType:"blob",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=559.9f528306.chunk.js.map