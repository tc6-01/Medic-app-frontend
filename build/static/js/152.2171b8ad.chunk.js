"use strict";(self.webpackChunkwebfile=self.webpackChunkwebfile||[]).push([[152],{8152:function(e,n,i){i.r(n),i.d(n,{default:function(){return B}});var t=i(4005),s=i(627),o=i(4554),r=i(2791),a=i(6871),l=i(3456),c=i(1413),f=i(885),u=i(8830),d=i(1914);function x(){var e=(0,t.oR)(d.v),n=(0,t.oR)(u.c),i=(0,r.useState)([]),s=(0,f.Z)(i,2),o=s[0],a=s[1];return(0,c.Z)((0,c.Z)((0,c.Z)({},e),n),{},{files:o,setFiles:a})}var Z=i(8953),j=i(2639),m=i(9505),h=i(3857),k=i(7209),p=i(3195),g=i(3767),v=i(9377),w=i(1186),C=i(7442),b=i(4350),z=i(184),S=function(e){var n=e.fileName,i=e.onOperationClicked;return(0,z.jsx)(g.Z,{m:1,children:(0,z.jsxs)(o.Z,{borderRadius:3,children:[(0,z.jsx)(b.Z,{fileName:n}),(0,z.jsx)(C.Z,{title:"\u6587\u4ef6\u64cd\u4f5c",children:(0,z.jsx)(m.Z,{items:[(0,z.jsx)(w.Z,{icon:(0,z.jsx)(v.Z,{fontSize:"large"}),name:"\u6253\u5f00",onclick:function(){return i("open")}}),(0,z.jsx)(w.Z,{icon:(0,z.jsx)(h.Z,{fontSize:"large"}),name:"\u5171\u4eab",onclick:function(){return i("share")}}),(0,z.jsx)(w.Z,{icon:(0,z.jsx)(k.Z,{fontSize:"large"}),name:"\u5220\u9664",onclick:function(){return i("delete")}})]})}),(0,z.jsx)(C.Z,{title:"\u66f4\u591a\u64cd\u4f5c",children:(0,z.jsx)(m.Z,{items:[(0,z.jsx)(w.Z,{icon:(0,z.jsx)(p.Z,{fontSize:"large"}),name:"\u8be6\u7ec6\u4fe1\u606f",onclick:function(){return i("detail")}})]})})]})})},N=i(1315),O=i(2479),R=i(2001),D=function(){var e,n=(0,a.s0)(),i=(0,t.oR)(x),c=(0,t.oR)(Z.i);(0,r.useEffect)((function(){(0,N.fD)().then((function(e){e&&0===e.code&&(Array.isArray(e.data)?(i.setFiles(e.data.map((function(e,n){return(0,N.Cl)(n,e)}))),i.setLoading(!1)):i.setFiles([e.data]))}))}),[]);var f=function(e){c.setBottomDrawerOpen(!0),c.setBottomDrawerContent((0,z.jsx)(S,{fileName:i.files[e].name,onOperationClicked:function(t){return function(e,t){switch(e){case"delete":console.log("delete files at index",t);break;case"open":c.setBottomDrawerOpen(!1),console.log(i.files),n("/pdfpreview",{state:i.files[t]});break;case"share":console.log("share files at index",t);break;case"detail":console.log("detail files at index",t)}}(t,e)}}))};return(0,z.jsx)(s.Z,{in:!0,children:(0,z.jsx)(o.Z,{children:(0,z.jsx)(m.Z,{items:null===(e=i.files)||void 0===e?void 0:e.map((function(e,n){return console.log(e),(0,z.jsx)(j.Z,{fileName:e.name,fileTime:(0,O.u)(e.expire),fileSize:(0,R.N)(e.size),remainUse:e.useLimit-e.use,sharedContent:(0,z.jsx)(l.Z,{state:"shared"}),onOperationClicked:function(){return f(n)}},n)})),onItemClicked:f})})})},B=function(){return(0,z.jsx)(t.zt,{of:x,children:(0,z.jsx)(D,{})})}}}]);
//# sourceMappingURL=152.2171b8ad.chunk.js.map